# Sci-marklet
Sci-marklets is Bookmarklets to change all the DOI links into scihub links. It performs it totally locally and if you refresh the page, the URLs are back to normal.

## How to install ?
The “installation” of the bookmarklet is performed by creating a new bookmark, and pasting the code from the [sci-marklet.js](sci-marklet.js) file into the URL destination field.

On chromium based browser, you may need to manually add the "javascript:" in front of the url.

## How to use ?
When you are on a page with a DOI, just click on the bookmark and it automaticaly changes the url. <br/>
<a href='javascript:function output(text){document.head.insertAdjacentHTML("beforeend", "<style id=\'snackStyle\'> \/*snackbar layout code from https://www.w3schools.com/howto/howto_js_snackbar.asp*/ \#snackbar{\visibility:hidden; /*Hiddenbydefault.Visibleonclick*/\min-width:250px; /*Setadefaultminimumwidth*/\margin-left:-125px;/*Dividevalueofmin-widthby2*/\background-color:#333;/*Blackbackgroundcolor*/\color:#fff;/*Whitetextcolor*/\text-align:center;/*Centeredtext*/\border-radius:2px;/*Roundedborders*/\padding:16px;/*Padding*/\position:fixed;/*Sitontopofthescreen*/\z-index:1;/*Addaz-indexifneeded*/\left:50%;/*Centerthesnackbar*/\bottom:30px;/*30pxfromthebottom*/\}\/*Showthesnackbarwhenclickingonabutton(classaddedwithJavaScript)*/\#snackbar.show{\visibility:visible;/*Showthesnackbar*/\/*Addanimation:Take0.5secondstofadeinandoutthesnackbar.\However,delaythefadeoutprocessfor2.5seconds*/\-webkit-animation:fadein0.5s,fadeout0.5s2.5s;\animation:fadein0.5s,fadeout0.5s2.5s;\}\/*Animationstofadethesnackbarinandout*/\@-webkit-keyframesfadein{\from{bottom:0;opacity:0;}\to{bottom:30px;opacity:1;}\}\@keyframesfadein{\from{bottom:0;opacity:0;}\to{bottom:30px;opacity:1;}\}\@-webkit-keyframesfadeout{\from{bottom:30px;opacity:1;}\to{bottom:0;opacity:0;}\}\@keyframesfadeout{\from{bottom:30px;opacity:1;}\to{bottom:0;opacity:0;}\}\</style>");document.body.insertAdjacentHTML("afterbegin",\'<divid="snackbar">\'+text+\'</div>\');varx=document.getElementById("snackbar");x.className="show";setTimeout(function(){x.className=x.className.replace("show","");x.remove();document.getElementById("snackStyle").remove();},3000);};functionliveSearch(){letcards=document.querySelectorAll(\'a\');letsearch_query="doi.org/";letcount=0;for(vari=0;i<cards.length;i++){if(cards[i].href.toLowerCase().includes(search_query.toLowerCase())){cards[i].href=cards[i].href.replace(search_query,"sci-hub.ru/");}else{count+=1;};};if(count==cards.length){output("NoDOIfound");}else{count=cards.length-count;output("Changed"+count+"URLs");};};liveSearch()'> Test Me <a/>
